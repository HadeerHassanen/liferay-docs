<h1>1</h1>
<hr/><h1>Preface</h1><p>This document is the Portlet 2.0 Bridge Specification for JavaServer&trade; Faces 1.2. It defines the subsystem that allows a JavaServer Faces resource to execute and satisfy a portlet request. The bridge is layered between the portlet container and the JavaServer&trade; Faces runtime. Its behavior and implementation depends on both. There will be a discrete bridge specification and implementation for each version combination of JavaServer Faces and Java Portlets. This version specifies the bridging function necessary to execute JavaServer&trade; Faces version 1.2 pages in a Java&trade; Portlet specification version 2.0 environment. For information on executing JavaServer&trade; Faces version 1.2 pages in a Java&trade; Portlet specification version 1.0 environment see the related specification &ldquo;Portlet 1.0 Bridge Specification for JavaServerTM Faces 1.2&rdquo;.</p><a id="1"></a><h2>1.1 Portlet 1.0 Compatibility</h2><p>Because the Portlet 2.0 container is fully backwards compatible with the Portlet 1.0 specification, a JSF application designed to run in a Portlet 1.0 Bridge environment will run unchanged in a Portlet 2.0 Bridge environment.</p><a id="1"></a><h2>1.2 Additional Sources</h2><p>The specification is intended to be a complete and clear explanation of the portlet bridge function. If questions remain the following may be consulted:</p>
<ul>
  <li>A reference implementation (RI) has been made available. It is published in open source in the <a href="http://myfaces.apache.org/portlet-bridge/index.html">PortletBridge subproject of the Apache MyFaces project</a>. Though contained under the MyFaces umbrella, its use is not restricted to or by any other MyFaces implementation. It should run on any Faces 1.2 implementation and in any portlet container. This RI provides a behavioral benchmark for this specification. Where the specification leaves implementation of a particular feature open to interpretation, implementers may use the reference implementation as a model that illustrates the intention of the specification.</li>
  <li>A Technology Compatibility Kit (TCK) has been provided for assessing whether implementations meet the compatibility requirements of the Portlet Bridge standard. The test results have normative value for resolving questions about whether an implementation is standard.</li>
  <li>If further clarification is required, the working group for the Portlet Bridge under the Java Community Process should be consulted. It is the final arbiter of such issues.</li>
</ul><p>Comments and feedback are welcomed, and will be used to improve future versions.</p><a id="1"></a><h2>1.3 Who Should Read This Specification</h2><p>The intended audience for this specification includes the following groups:</p>
<ul>
  <li><strong>Bridge implementor:</strong> e.g. Java&trade; Portlet container implementers that want to expand the reach of their environment to support portlets whose implementations are either in part, or in whole, implemented using JavaServer&trade; Faces.</li>
  <li><strong>Portlet developer:</strong> e.g. The portlet author who prefers to use the MVC Java standard to author her portlets.</li>
  <li><strong>JSF developer:</strong> e.g JavaServer&trade; Faces authoring tool developers who wish to support web applications that publish portions of their Faces views as portlets or JavaServer&trade; Faces extension developers who want to ensure that their extension can run in a portlet (bridge) environment.</li>
</ul><p>The specification is not a user’s guide for developing portlets using JavaServer&trade; Faces and is not intended to be used as such. As it focuses on the behavioral details of the bridge, it is primarily oriented towards bridge implementors. Portlet developers or JSF developers who want quick access to the information that is most pertinent to them should consult: Portlet Developer:  Basic information: <a href="Chapter-2-Overview.html">Chapter 2</a>: this chapter provides a short overview of portlets, JSF, and the bridge architecture. It also introduces you to the terminology used in the specification. Chapter 4: this chapter defines the behavior of the GenericFacesPortlet; a bridge provided portlet implementation that you will commonly subclass to build your portlet. It hides all the details of initializing, configuring, managing, and executing the bridge. Chapter 3: this chapter defines the bridge interface and configuration which a portlet uses to initialize, configure, manage, and execute it. I.e. defines the interface and configuration details hidden to you in chapter 4 by the GenericFacesPortlet implementation. Chapter 6, section 6.5 through subsection 6.5.2.1 plus section 6.5.2.3: these sections provide information related to portlet specific EL evaluation.</p><p>Advanced Information: Chapter 6, section 6.8: JSF provides a facility allowing managedbean implementors to be notified before the bean is destroyed. This section includes important information for supporting this notification (correctly) in a portlet environment. Chapter 5, section 5.1: this section describes how the portlet and JSF lifecycles differ and how the bridge manages state to ensure expected behavior in JSF. You will need to understand this information and how to exclude specific state from being managed by the bridge if you determine that such state management is detrimental/not needed.<br/>Chapter 7: this chapter defines the behavior of a servlet filter that can be used with the bridge to provide correct markup ordering when your JSF view is represented by a jsp whose output comes from regular jsp markup as well has JSF components. Note: filter implementations aren&rsquo;t part of the formal specification because JSF is structured in such a way as to require distinct implementations per JSF implementation. If you need such a filter to correct the jsp ordering problem you will have to search for a publicly available implementation for your JSF implementation type or write one yourself.</p><a id="1"></a><h2>1.4 API Reference</h2><p>An accompanying javadoc&trade; includes the full specifications of classes, interfaces, and method signatures.</p><a id="1"></a><h2>1.5 Important Dependent Java&trade; Specifications</h2><p>As a bridge between a Java Portlet v2.0 container and a JavaServer Faces v1.2 environment, this specification depends directly on each of these specifications:</p>
<ul>
  <li>JavaServer&trade; Faces v1.2</li>
  <li>Java Portlet Specification v2.0</li>
</ul><p>These specifications are available in their respective JSR homes (JSR 252; JSR268) on <a href="http://www.jcp.org">http://www.jcp.org</a>.</p><a id="1"></a><h2>1.6 Dependent Java&trade; Versions</h2><p>The portlet bridge should run on any Java Portlet 1.0 container. It should also run on a portlet container running a newer version of the Java Portlet specification. However, it is recommended that the version of the bridge be paired with both the version of the Java Portlet container and Java Server Faces runtime it is deployed with. This ensures the best implementation for the given environment.</p><p>The portlet bridge requires, as a minimum, the JSF runtime support equivalent of JSF 1.2MR1. This corresponds to the JSF 1.2_03 version of the reference implementation. Specifically, the JSF runtime must call ExternalContext.encodeActionURL on the path before passing the result to ExternalContext.redirect().</p><p>In addition, the bridge requires a Java 1.5 environment because this is the minimum required version for running JSF 1.2.</p><a id="1"></a><h2>1.7 Terminology</h2><p>The key words MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT, SHOULD, SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL in this document are to be interpreted as described in [RFC2119].</p><a id="1"></a><h2>1.8 Providing Feedback</h2><p>We welcome any and all feedback about this specification. Please e-mail your comments to <a href="mailto:&#106;s&#114;&#x2d;&#x33;&#x30;&#x31;&#99;&#x6f;&#x6d;m&#101;&#x6e;&#116;s&#64;&#106;&#99;p&#46;o&#x72;&#103;">&#106;s&#114;&#x2d;&#x33;&#x30;&#x31;&#99;&#x6f;&#x6d;m&#101;&#x6e;&#116;s&#64;&#106;&#99;p&#46;o&#x72;&#103;</a>. Please note that due to the volume of feedback that we receive, you will not normally receive a reply from an engineer. However, each and every comment is read, evaluated, and archived by the specification team.</p><a id="1"></a><h2>1.9 Acknowledgments</h2><p>The Portlet 2.0 Bridge Specification V1.0 is the result of the work of JSR 329 Expert Group which migrated from JSR 301: Subbu Allamaraju, Brodi Beartusk, Andy Bosch, Matt Brasier, Benjamin Bratkus, Wesley Budziwojski, Raschka Christian, Shankar Djeyassilane, Nikolai Dokovski, Ate Douma, Deepak Gothe, Ted Goddard, Wesley Hales, Jondean Haley, Roger Kitain, Danny Machak, Kito Mann, Martin Marinschek, Scott O&rsquo;Bryan, Stan Silvert, Thomas Spiegl, Shashank Tiwari, Julien Viet, James Ward, and Carsten Ziegeler. Besides those above representing themselves, the following companies were represented in the expert group: BEA Systems, SAP AG, Oracle Corporation, HIPPO, Sun Microsystems, Icesoft Technologies Inc., Red Hat Middleware LLC., Adobe Systems, and S&amp;N AG. Though the contributions of all were important, special thanks is given to Nikolai Dokovski of SAP AG and Scott O&rsquo;Bryan of Oracle Corporation who were particularly active throughout the entire specification process and provided immeasurable support and feedback. </p>
